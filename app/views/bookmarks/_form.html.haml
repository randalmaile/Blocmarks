= form_for bookmark, html: {class: 'form-horizontal' } do |f| 
  - if bookmark.errors.any?
    .alert.alert-block
      %h4= "There are #{pluralize(bookmark.errors.count, "error")}"
      %ul 
        - bookmark.errors.full_messages.each do |msg|
          %li= msg 
  = control_group_tag(bookmark.errors[:url]) do
    = f.label :url, class: 'control-label'
    .controls
      = f.text_field :url
  = control_group_tag(bookmark.errors[:title]) do
    = f.label :title, class: 'control-label'
    .controls
      = f.text_field :title
  = control_group_tag(bookmark.errors[:description]) do
    = f.label :description, class: 'control-label'
    .controls
      = f.text_area :description, rows: 8
  = f.fields_for :tagmaps do |ff|
    = ff.fields_for :hashtag do |fff|     
      = fff.label :tag
      .controls
        = fff.text_field :tag
      - if ff.object.persisted?
        = ff.check_box :_destroy 
        = ff.label :_destroy, "Destroy"
  .control-group
    .controls
      = f.submit "Save", class: 'btn'